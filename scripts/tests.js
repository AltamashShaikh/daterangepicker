(function(){var t;t=chai.assert,window.initMochaPhantomJS&&window.initMochaPhantomJS(),mocha.setup("bdd"),describe("ArrayUtils",function(){var e;return e=$.fn.daterangepicker.ArrayUtils,describe("##rotateArray()",function(){return it("should with a positive number",function(){return t.deepEqual(e.rotateArray([1,2,3,4],2),[3,4,1,2])}),it("should with a large positive number",function(){return t.deepEqual(e.rotateArray([1,2,3,4],10),[3,4,1,2])}),it("should work a negative number",function(){return t.deepEqual(e.rotateArray([1,2,3,4],-2),[3,4,1,2])}),it("should with a large negative number",function(){return t.deepEqual(e.rotateArray([1,2,3,4],-10),[3,4,1,2])}),it("should work a zero",function(){return t.deepEqual(e.rotateArray([1,2,3,4],0),[1,2,3,4])})}),describe("##uniqArray()",function(){return it("should work",function(){return t.sameMembers(e.uniqArray([1,2,3,1,2,4]),[1,2,3,4])})})}),describe("Config",function(){var e,n;return e=$.fn.daterangepicker.Config,n="YYYY-MM-DD",describe("orientation",function(){return it("defaults to right",function(){var n;return n=new e({}),t.equal(n.orientation(),"right")}),it("works with a valid value (left)",function(){var n;return n=new e({orientation:"left"}),t.equal(n.orientation(),"left")}),it("throws an exception with an invalid value",function(){return t["throw"](function(){var t;return t=new e({orientation:"invalid"})},/Invalid orientation/)})}),describe("period",function(){return it("defaults to day",function(){var n;return n=new e({}),t.equal(n.period(),"day")}),it("works with a valid value (week)",function(){var n;return n=new e({period:"week"}),t.equal(n.period(),"week")}),it("throws an exception with an invalid value",function(){return t["throw"](function(){var t;return t=new e({period:"invalid"})},/Invalid period/)})}),describe("callback",function(){return it("defaults to undefined",function(){var n;return n=new e({}),t.equal(n.callback,void 0)}),it("works with a valid value",function(){var n,r;return r=function(){return console.log("test")},n=new e({callback:r}),t.equal(n.callback,r)}),it("throws an exception with an invalid value",function(){return t["throw"](function(){var t;return t=new e({callback:"invalid"})},/Invalid callback/)})}),describe("forceUpdate",function(){return it("defaults to undefined",function(){var n;return n=new e({}),t.equal(n.forceUpdate,void 0)})}),describe("ranges",function(){return it("works with a valid object",function(){return new e({ranges:{"Test Range":["2015-05-14",moment()]}})}),it("fails with a parameter that is not an object",function(){return t["throw"](function(){return new e({ranges:"invalid parameter"})},/Invalid ranges/)}),it('fails with a "complex" object',function(){var n;return n=function(){return this["Test Range"]=["2015-05-14",moment()]},t["throw"](function(){return new e({ranges:new n})},/Invalid ranges/)}),it("fails with a object value that is not an array",function(){return t["throw"](function(){return new e({ranges:{"Test Range":"2015-05-14"}})},/Value should be an array/)}),it("fails with a missing start date",function(){return t["throw"](function(){return new e({ranges:{"Test Range":[void 0,"2015-05-14"]}})},/Missing start date/)}),it("fails with a missing end date",function(){return t["throw"](function(){return new e({ranges:{"Test Range":["2015-05-14"]}})},/Missing end date/)})}),describe("_dateObservable",function(){return describe("#fit()",function(){return describe("minDate = 2015-05-14, period = month",function(){return describe("inclusive mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2015-05-14"),"inclusive"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("converts 2015-04-15 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-05-14")}),it("converts 2015-05-05 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-05-14")}),it("converts 2015-05-14 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-05-14")}),it("converts 2015-05-25 into 2015-05-25",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-05-25")}),it("converts 2015-06-15 into 2015-06-15",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-06-15")})}),describe("exclusive mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2015-05-14"),"exclusive"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("converts 2015-04-15 into 2015-06-01",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-06-01")}),it("converts 2015-05-05 into 2015-06-01",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-06-01")}),it("converts 2015-05-14 into 2015-06-01",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-06-01")}),it("converts 2015-05-25 into 2015-06-01",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-06-01")}),it("converts 2015-06-15 into 2015-06-15",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-06-15")})}),describe("extended mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2015-05-14"),"extended"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("converts 2015-04-15 into 2015-05-01",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-05-01")}),it("converts 2015-05-05 into 2015-05-05",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-05-05")}),it("converts 2015-05-14 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-05-14")}),it("converts 2015-05-25 into 2015-05-25",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-05-25")}),it("converts 2015-06-15 into 2015-06-15",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-06-15")})})}),describe("maxDate = 2015-05-14, period = month",function(){return describe("inclusive mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"inclusive"]}),it("converts 2015-04-15 into 2015-04-15",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-04-15")}),it("converts 2015-05-05 into 2015-05-05",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-05-05")}),it("converts 2015-05-14 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-05-14")}),it("converts 2015-05-25 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-05-14")}),it("converts 2015-06-15 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-05-14")})}),describe("exclusive mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"exclusive"]}),it("converts 2015-04-15 into 2015-04-15",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-04-15")}),it("converts 2015-05-05 into 2015-04-30",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-04-30")}),it("converts 2015-05-14 into 2015-04-30",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-04-30")}),it("converts 2015-05-25 into 2015-04-30",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-04-30")}),it("converts 2015-06-15 into 2015-04-30",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-04-30")})}),describe("extended mode",function(){var r;return r=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"extended"]}),it("converts 2015-04-15 into 2015-04-15",function(){return t.equal(r.startDate.fit("2015-04-15").format(n),"2015-04-15")}),it("converts 2015-05-05 into 2015-05-05",function(){return t.equal(r.startDate.fit("2015-05-05").format(n),"2015-05-05")}),it("converts 2015-05-14 into 2015-05-14",function(){return t.equal(r.startDate.fit("2015-05-14").format(n),"2015-05-14")}),it("converts 2015-05-25 into 2015-05-25",function(){return t.equal(r.startDate.fit("2015-05-25").format(n),"2015-05-25")}),it("converts 2015-06-15 into 2015-05-31",function(){return t.equal(r.startDate.fit("2015-06-15").format(n),"2015-05-31")})})})}),describe("#isWithinBoundaries()",function(){return describe("minDate = 2015-05-14, period = month",function(){return describe("inclusive mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2015-05-14"),"inclusive"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("returns false for 2015-04-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns true for 2015-05-05",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns true for 2015-05-14",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns true for 2015-05-25",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns true for 2015-06-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})}),describe("exclusive mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2015-05-14"),"exclusive"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("returns false for 2015-04-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns false for 2015-05-05",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns false for 2015-05-14",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns false for 2015-05-25",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns true for 2015-06-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})}),describe("extended mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2015-05-14"),"extended"],maxDate:[moment.utc("2016-01-01"),"inclusive"]}),it("returns false for 2015-04-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns true for 2015-05-05",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns true for 2015-05-14",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns true for 2015-05-25",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns true for 2015-06-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})})}),describe("maxDate = 2015-05-14, period = month",function(){return describe("inclusive mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"inclusive"]}),it("returns true for 2015-04-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns true for 2015-05-05",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns true for 2015-05-14",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns true for 2015-05-25",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns false for 2015-06-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})}),describe("exclusive mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"exclusive"]}),it("returns true for 2015-04-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns false for 2015-05-05",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns false for 2015-05-14",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns false for 2015-05-25",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns false for 2015-06-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})}),describe("extended mode",function(){var n;return n=new e({period:"month",minDate:[moment.utc("2014-01-01"),"inclusive"],maxDate:[moment.utc("2015-05-14"),"extended"]}),it("returns true for 2015-04-15",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-04-15"),"2015-04-15")}),it("returns true for 2015-05-05",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-05"),"2015-05-05")}),it("returns true for 2015-05-14",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-14"),"2015-05-14")}),it("returns true for 2015-05-25",function(){return t.isTrue(n.startDate.isWithinBoundaries("2015-05-25"),"2015-05-25")}),it("returns false for 2015-06-15",function(){return t.isFalse(n.startDate.isWithinBoundaries("2015-06-15"),"2015-06-15")})})})})})}),describe("DateRangePickerView",function(){var e,n;return $(".secondary-section").after($("<div id='daterangepickerview-test-container' style='display: none'></div>")),n="#daterangepickerview-test-container",e=function(t){return null==t&&(t={}),new $.fn.daterangepicker.DateRangePickerView($.extend(t,{parentElement:n}))},describe("#calendars",function(){return it("defaults to two",function(){var n;return n=new e,t.equal(n.calendars().length,2)}),it("has single calendar when single is set",function(){var n;return n=new e({single:!0}),t.equal(n.calendars().length,1)})}),describe("forceUpdate",function(){return it("does not invoke callback on creation when undefined",function(){var n,r,i;return n=!1,r=function(){return n=!0},i=new e({callback:r}),t.isFalse(n)}),it("invokes callback on creation when true",function(){var n,r,i;return n=!1,r=function(){return n=!0},i=new e({callback:r,forceUpdate:!0}),t.isTrue(n)})}),describe("#isActivePeriod",function(){return it("defaults to day when no custom periods defined",function(){var n;return n=new e({}),t.isTrue(n.isActivePeriod("day"))}),it("defaults to first period when custom periods defined",function(){var n;return n=new e({periods:["month","week","day"]}),t.isTrue(n.isActivePeriod("month"))})}),describe("#setPeriod",function(){return it("works with valid period",function(){var n;return n=new e({}),n.setPeriod("week"),t.equal(n.isActivePeriod("week"),!0)})}),describe("#setDateRange #isActiveDateRange",function(){return it("works with default ranges",function(){var n,r;return n=new e({}),r=n.ranges[0],t.instanceOf(r,$.fn.daterangepicker.DateRange),n.setDateRange(r),t.isTrue(n.isActiveDateRange(r))}),it("works with custom ranges",function(){var n,r;return n=new e({ranges:{"May 2015":[moment.utc("2015-05-01"),moment.utc("2015-05-31")]}}),r=n.ranges[0],t.instanceOf(r,$.fn.daterangepicker.DateRange),n.setDateRange(r),t.isTrue(n.isActiveDateRange(r))})}),describe("open and closed states",function(){return it("is not open by default",function(){var n;return n=new e({}),t.isFalse(n.opened())}),it("works with opened flag",function(){var r;return $(n).append($("<div id='open-test-anchor-one'></div>")),r=new e({opened:!0,anchorElement:"#open-test-anchor-one"}),t.isTrue(r.opened())}),describe("interaction methods",function(){var n;return n=new e({}),it("works with #open",function(){return t.isFalse(n.opened()),n.open(),t.isTrue(n.opened())}),it("works with #close",function(){return n.close(),t.isFalse(n.opened())}),it("works with #toggle",function(){return n.toggle(),t.isTrue(n.opened()),n.toggle(),t.isFalse(n.opened())})})})}),describe("MomentIterator",function(){var e,n;return e=$.fn.daterangepicker.MomentIterator,n="YYYY-MM-DD",describe("#next()",function(){return it("should work",function(){var r;return r=new e(moment.utc([2015,1,1]),"month"),t.equal(r.next().format(n),"2015-02-01"),t.equal(r.next().format(n),"2015-03-01")})}),describe("##array()",function(){return it("should work",function(){var r,i;return r=e.array(moment.utc([2015,1,1]),6,"month"),i=["2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01"],t.sameMembers(r.map(function(t){return t.format(n)}),i)})})}),describe("MomentUtil",function(){var e,n,r;return n=$.fn.daterangepicker.MomentUtil,e=$.fn.daterangepicker.DateRangePickerView,r=new e({}).calendars()[0],describe("#setFirstDayOfTheWeek()",function(){var e,i;return e=null,i=function(e,i){return n.setFirstDayOfTheWeek(e),t.equal(moment().startOf("week").format("dddd"),i),t.equal(r.weekDayNames()[0],i.substr(0,2))},before(function(){return e=moment.localeData().firstDayOfWeek()}),after(function(){return n.setFirstDayOfTheWeek(e)}),it("should work when I set it to 5 (Friday)",function(){return i(5,"Friday")}),it("should work when I set it to 1 (Monday)",function(){return i(1,"Monday")}),it("should work when I set it to the same day (Monday)",function(){return i(1,"Monday")}),it("should work with negative numbers",function(){return i(-1,"Saturday"),i(-13,"Monday")}),it("should work with numbers > 6",function(){return i(7,"Sunday"),i(15,"Monday")})})}),describe("Period",function(){var e;return e=$.fn.daterangepicker.Period,describe("##extendObservable()",function(){return it("should work",function(){var n;return n=e.extendObservable(ko.observable("quarter")),t.equal(n.format(),e.format("quarter"))})})}),mocha.run()}).call(this);